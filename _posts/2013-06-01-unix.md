---
layout: default
title: 读《Unix/Linux编程实践教程》
---

# 读《Unix/Linux编程实践教程》#
*原版名《Understanding Unix/Linux Programming -- A Guide to Theory and Practice》*

##适合读者人群##
&emsp;不谈适用读者群体写书评的都是耍流氓。

&emsp;本人读这本书时有C/C++语言、数据结构、操作系统、计算机网络等理论基础知识，这些都是这本书会涉及到的部分。但是Linux系统的操作基础为0，用过Ubuntu一段时间，几乎都是在X window上用，命令行就只会一个sudo apt-get install XXX，连每个单词什么意思都不知道。但是这一点都不妨碍我顺畅地读完整本书。

&emsp;在我看来，这是一本非常适合入门的书。至少它带我入了门。本书前言说了，本书的读者需要一定的C语言基础。确实这样就够了。假如你跟我一样，上过操作系统以及计算机网络的课，有些部分会更好理解。比如socket编程、比如信号量、比如文件系统。没有理论基础的话，相信用点功也是没问题的。大一学完C语言就可以应付了。

##进度安排##
&emsp;我前后用了37天的时间看完，中间有十天完全停顿，其他日子状态也是起起伏伏。书中配套的光盘有完整的示例代码，连Makefile都有，我就直接编译。每个程序都会跑跑看，有些代码直接在上面修改看看效果。完全自己写的代码只有几个。为了赶进度，课后题基本都没做。在此自我检讨下！

&emsp;总体来讲，本书难度不大。所需要时间也不是很多。安排一两个月，平均每天三个小时，足可以搞定。


##Unix编程都讲了什么##
&emsp;读完本书，再去翻翻《Unix环境高级编程》以及《Linux程序设计》，大致可以知道Unix编程都需要掌握哪些方面的内容。

- 文件操作（文件I/O，文件和目录，文件系统，设备）
- 进程与线程
- 信号机制
- 进程间通信IPC（socket，管道，命名管道，消息队列，共享文件与文件锁，共享内存与信号量）

&emsp;这个分类我不知道是否准确。思考到最后，发现前面讲述的内容都是为了IPC服务的，而IPC包括了太多内容，连信号其实也是为了IPC而存在的。难道Unix的哲学就是为了进程间通信？

##这本书讲了什么##
&emsp;这东西看目录应该就可以知道。

1. 每本书的第一章都是概述
2. 通过自己编写who命令，了解文件I/O
3. 通过自己编写ls命令，了解目录以及文件属性
4. 通过自己编写pwd命令，了解文件系统（2-4三章步步推进，让我们了解了Unix的文件系统以及I/O操作）
5. 通过自己编写stty命令，学习设备编程，重点介绍控制终端驱动程序
6. 进一步介绍终端驱动程序的模式，初步介绍信号机制
7. 通过编写一个视频游戏，了解curses库（屏幕编程）、时间编程、信号处理、异步I/O（5-7章主要介绍终端编程以及信号）
8. 通过自己编写一个简化的shell程序，初步了解进程（fork，exec，wait，exit）
9. 改进编写的shell程序，进一步了解进程以及shell编程（流程控制，shell变量，环境变量）
10. 介绍I/O重定向以及管道（8-10章通过shell介绍进程相关概念）
11. 通过编写时间服务器，初步了解socket
12. 通过编写web服务器，了解socket的流编程(TCP)
13. 通过编写许可证服务器，了解socket的数据报编程(UDP)（11-13章的主题是socket）
14. 介绍线程机制
15. 介绍进程间通信（IPC），初步介绍而已。


##没讲什么##
&emsp;对比《linux程序设计》，缺少的部分还挺多的；对比《APUE》，讲的相对简单。

1. 缺少对开发工具的介绍。Vim，gcc，gdb，Makefile一概没讲。
2. shell具体语法也没讲，只是介绍几个简单功能。
3. 数据库连接，图形界面编程也没有涉及到。
4. 有关Linux常用命令管理也没讲，比如软件包管理。

##本书特色##
&emsp;一大优点就是本书有大量的、简单的、完整的示范程序，让读者可以很感性的认知到每个系统调用、每个库函数使用的结果。而不是只有抽象的理论。

&emsp;另外，本书的学习线索也是也很有特色。通过“某个命令能做什么”--“命令是怎么工作的”--“我们也来写这个命令”，很自然地引入新知识，同时给人“知其然又知其所以然”的感觉。当然，前面部分比较严格地遵守这条线索，后面就没了。因为后面要讲的内容不是通过一个命令就可以实现的。

&emsp;作为一本入门书，没有讲什么深入的东西，介绍范围比较广，500页也不算大部头。容易入门，这一点做得非常好的。但是后面在介绍线程机制以及进程间通信（IPC）的时候，就太简单，有点草草了事的感觉。但是如果展开来的话，本书就绝对超过500页了。

##质量问题##
&emsp;每每在看翻译书籍的时候，总会有人跳出来说：“翻译毁了一本书。最好看原版去。”甚至连台湾出版的《鸟哥的Linux私房菜》都有人叫嚣着要看原版。所以一本书的翻译质量总是让人很关心。

&emsp;这本书的翻译质量还算不错。总体上比较通顺。偶有一些让人读几遍都不知道在讲什么的句子，幸好出现的概率不高。因为在图书馆找不到原版书，无从对比，也不知道是原文的错还是译者的问题。

&emsp;排版问题以及内容出错的概率，在后面几章出奇的高。特别是代码部分，有些一眼就可以看出来是笔误，有些则会引起误会。比如P453，书本一行代码是 `#define MESSAGE "hello"`，可实际上应该是 `#define MESSAGE " hello "`，区别就在于hello左右有没有空格。看似无关紧要，但这对于这个程序的执行结果却会完全不同。不信试试。（光盘中给的代码是正确的）

&emsp;另外，有关本书的编码风格。不知道是不是因为年代原因，书中代码某些风格我不太接受。比如经常出现先调用函数后声明的情况，本来以为编译不通过，结果gcc可以。还有一些代码总是缺少头文件。但是居然也可以编译通过。后来才知道使用gcc编译器，调用printf函数可以不声明stdio.h头文件，原因是stdio.h内置了（查过但是具体原因表述不太确定）。总觉得这不是一个好习惯。另外，光盘给的代码有一个地方是出错的。对应书中，在P222页，第11、12行代码，函数的声明是有参数的，但是后面使用这个函数又是没有参数。所以把11行跟12行形参列表的int删去就OK了。

&emsp;出错部分我在书中都标识出来，想列一个勘误表出来。但是又觉得浪费时间做这事似乎有点不划算。这本书从04年出版后就没有修改过。希望以后出版的时候能更正一些小错误吧。总体而言，这本书的错漏还在我可接受范围之内。

##总结##
&emsp;这是一本好书。尽管没有APUE那么经典，但是却更适合入门。书中不仅仅教你怎么使用系统调用跟库函数，还结合理论，更教你怎么利用man手册进一步学习。读完此书再看APUE，估计收获会更大。

